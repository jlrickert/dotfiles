#!/usr/bin/env bash

SCRIPT_DIR="$(dirname "$(readlink -f "$0")")"

# Load environmental variables
PROJECT_ROOT="$(cd "${SCRIPT_DIR}" && git rev-parse --show-toplevel)"
. "${PROJECT_ROOT}/lib/env.sh"

_source_if() { [[ -r "$1" ]] && source "$1"; }
_have() { type "$1" &>/dev/null; }

# bonzai style completions
owncomp=(${PROJECT_ROOT}/bin/*)
for i in "${owncomp[@]}"; do
	_have "$(basename "$i")" && complete -C "$i" "$i"
done

# if [ -n "${BASH_VERSION}" ]; then
# 	if [ -f "${HOME}/.bashrc" ]; then
# 		# shellcheck disable=SC1091
# 		. "${HOME}/.bashrc"
# 	fi
# elif [ -n "${ZSH_VERSION}" ]; then
# 	if [ -f "${HOME}/.zshenv" ]; then
# 		# shellcheck disable=SC1091
# 		. "${HOME}/.zshenv"
# 	fi
#
# 	if [ -f "${HOME}/.zshrc" ]; then
# 		# shellcheck disable=SC1091
# 		. "${HOME}/.zshrc"
# 	fi
# fi
